html, body { height:100%; margin:0; padding:0; font-family: system-ui, Arial, sans-serif; }
    #map { height:100%; width:100%; }
    .map-container {
      width: 100%;
      max-width: 600px;   /* control max width */
      height: 400px;      /* map height */
      border: 2px solid #ddd;
      border-radius: 12px;
      overflow: hidden;   /* keeps map corners rounded */
      box-shadow: 0 4px 10px rgba(0,0,0,.1);
      margin: 12px auto;       /* center it */
    }
    h2 {
      text-align: center;
      margin-bottom: 10px;
    }

    /* Original Styles */
    .panel {
      background:#fff;
      padding:12px 16px;
      border-radius:12px;
      box-shadow:0 2px 8px rgba(0,0,0,.15);
      font-size:14px;
      line-height:1.4;
      max-width:600px;
      margin: 16px auto 0 auto; /* centered, above the map */
    }

    .legend {
      position:absolute;
      bottom:12px;
      left:12px;
      background:#fe3939;
      padding:8px 10px;
      border-radius:12px;
      box-shadow:0 4px 16px rgba(0,0,0,.15);
      font-size:13px;
      line-height:1.4;
    }
    
    .panel  { top:12px; left:12px; right:12px; }
    .row { display:flex; gap:6px; align-items:center; margin:3px 0; flex-wrap:wrap; }
    .dot { width:14px; height:14px; border-radius:3px; display:inline-block; }
    .btn {
      flex:1; padding:10px; border-radius:8px; border:1px solid #ddd;
      background:#f9f9f9; text-align:center; font-size:14px; cursor:pointer;
      touch-action: manipulation;
    }
    .btn:active { background:#eee; }
    .muted { color:#666; font-size:12px; }
    @media (max-width:480px) {
      .panel { font-size:12px; padding:6px 8px; }
      .btn { font-size:13px; padding:8px; }

      .panel { position: static; margin: 12px; }
    }

    .badge{
      display:inline-block;
      padding:2px 6px;
      border-radius:6px;
      font-size:.8rem;
      color:#fff;
      margin-left:6px;
    }

    .fab {
      position: fixed;
      right: 18px;
      bottom: 18px;
      background: #d32f2f;
      color: #fff;
      border: none;
      border-radius: 999px;
      padding: 12px 16px;
      box-shadow: 0 4px 14px rgba(0,0,0,.2);
      cursor: pointer;
      font-weight: 600;
    }
    .fab:hover { filter: brightness(1.05); }

    .eta-box{
      position: auto;
      width: 200px;
      margin: 12px 450px;
      padding: 10px 12px;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,.12);
    }